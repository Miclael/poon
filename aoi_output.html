<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>æ—©ç­ç”¢å‡ºå›å ±</title>
<style>
  body { font-family:-apple-system, BlinkMacSystemFont,"PingFang TC","Noto Sans TC",Arial; padding:14px; background:#f7f7f7; }
  h2 { text-align:center; }
  .row { display:flex; justify-content:space-between; align-items:center; background:#fff; margin:8px 0; padding:10px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.1);}
  .row label { flex:1; }
  .row input { flex:1; padding:10px; font-size:16px; text-align:center; border:1px solid #ccc; border-radius:6px; }
  .btn-row { display:flex; gap:10px; margin-top:14px; }
  .btn { flex:1; padding:12px; font-size:16px; font-weight:600; background:#0a66ff; color:#fff; border:none; border-radius:8px; }
  .btn:active { background:#084fc3; }
  .hint { text-align:center; font-size:13px; color:#555; margin-top:8px; }
  textarea { width:100%; height:200px; margin-top:10px; }
</style>
</head>
<body>
  <h2 id="title">æ—©ç­ç”¢å‡ºå›å ±</h2>

  <!-- æ”¹ç”¨ iPhone å…§å»ºéµç›¤ -->
  <div class="row"><label>é‘½é¶</label><input type="text" inputmode="decimal" data-name="é‘½é¶"></div>
  <div class="row"><label>å…§A</label><input type="text" inputmode="decimal" data-name="å…§A"></div>
  <div class="row"><label>å…§V</label><input type="text" inputmode="decimal" data-name="å…§V"></div>
  <div class="row"><label>å…§æª¢</label><input type="text" inputmode="decimal" data-name="å…§æª¢"></div>
  <div class="row"><label>å¤–A</label><input type="text" inputmode="decimal" data-name="å¤–A"></div>
  <div class="row"><label>å¤–V</label><input type="text" inputmode="decimal" data-name="å¤–V"></div>
  <div class="row"><label>å¤–æª¢</label><input type="text" inputmode="decimal" data-name="å¤–æª¢"></div>
  <div class="row"><label>è£œç·š</label><input type="text" inputmode="decimal" data-name="è£œç·š"></div>
  <div class="row"><label>CAM</label><input type="text" inputmode="decimal" data-name="CAM"></div>

  <div class="btn-row">
    <button class="btn" id="copyBtn">ğŸ“‹ è¤‡è£½çµæœ</button>
    <button class="btn" id="shareBtn">ğŸ“¤ åˆ†äº«</button>
  </div>

  <div class="hint">ç›´æ¥ç”¨ iPhone å…§å»ºéµç›¤è¼¸å…¥ã€‚ã€Œå…§æª¢ã€èˆ‡ã€Œå¤–Aã€ä¹‹é–“æœƒå¤šä¸€è¡Œã€‚</div>

  <textarea id="output" readonly></textarea>

<script>
(function setTodayTitle(){
  const now=new Date();
  document.getElementById('title').textContent=`${now.getMonth()+1}/${now.getDate()}æ—©ç­ç”¢å‡ºå›å ±`;
})();

function buildOutput(){
  const title=document.getElementById('title').textContent;
  const lines=[title];
  document.querySelectorAll('input[data-name]').forEach(inp=>{
    lines.push(`${inp.dataset.name} ${inp.value.trim()}`);
    if(inp.dataset.name==='å…§æª¢') lines.push(''); // å…§æª¢ä¹‹å¾ŒåŠ ç©ºè¡Œ
  });
  return lines.join('\n');
}

// ===== è¤‡è£½åŠŸèƒ½ =====
document.getElementById('copyBtn').addEventListener('click',async()=>{
  const text=buildOutput();
  document.getElementById('output').value=text;
  try {
    await navigator.clipboard.writeText(text);
    alert('å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿');
  } catch {
    alert('ç„¡æ³•è‡ªå‹•è¤‡è£½ï¼Œè«‹é•·æŒ‰æ–‡å­—æ‰‹å‹•è¤‡è£½');
  }
});

// ===== åˆ†äº«åŠŸèƒ½ =====
document.getElementById('shareBtn').addEventListener('click',async()=>{
  const text=buildOutput();
  document.getElementById('output').value=text;
  if(navigator.share){
    try {
      await navigator.share({
        title: 'æ—©ç­ç”¢å‡ºå›å ±',
        text: text
      });
    } catch(e){
      console.log('åˆ†äº«å–æ¶ˆæˆ–éŒ¯èª¤:',e);
    }
  } else {
    alert('æ­¤ç€è¦½å™¨ä¸æ”¯æ´ç›´æ¥åˆ†äº«ï¼Œè«‹å…ˆè¤‡è£½æ–‡å­—å†è‡ªè¡Œè²¼ä¸Š');
  }
});
</script>
</body>
</html>